"use strict";(globalThis.webpackChunkGATK_SV=globalThis.webpackChunkGATK_SV||[]).push([[1064],{6073:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"gs/runtime_env","title":"Runtime environments","description":"Describes the supported runtime environments.","source":"@site/docs/gs/runtime_env.md","sourceDirName":"gs","slug":"/gs/runtime-env","permalink":"/gatk-sv/docs/gs/runtime-env","draft":false,"unlisted":false,"editUrl":"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/gs/runtime_env.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Runtime environments","description":"Describes the supported runtime environments.","sidebar_position":5,"slug":"./runtime-env"},"sidebar":"tutorialSidebar","previous":{"title":"Docker images","permalink":"/gatk-sv/docs/gs/dockers"},"next":{"title":"Best Practices Guide","permalink":"/gatk-sv/docs/best_practices"}}');var r=s(4848),i=s(8453);const o={title:"Runtime environments",description:"Describes the supported runtime environments.",sidebar_position:5,slug:"./runtime-env"},a=void 0,l={},c=[{value:"Terra (recommended)",id:"terra-recommended",level:3},{value:"Cromwell (advanced)",id:"cromwell-advanced",level:3},{value:"Alternative backends (not supported)",id:"alternative-backends-not-supported",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["The GATK-SV pipeline consists of workflows implemented in the Workflow Description Language\n(",(0,r.jsx)(n.a,{href:"https://openwdl.org/",children:"WDL"}),") and is built for use on the Google Cloud Platform (",(0,r.jsx)(n.a,{href:"https://cloud.google.com/",children:"GCP"}),")."]}),"\n",(0,r.jsx)(n.h3,{id:"terra-recommended",children:"Terra (recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["To facilitate easy-of-use, security, and collaboration, GATK-SV is available on the ",(0,r.jsx)(n.a,{href:"https://app.terra.bio/",children:"Terra"}),"\nplatform. Users should clone pre-configured Terra workspaces as a starting point for running GATK-SV:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://app.terra.bio/#workspaces/help-gatk/GATK-Structural-Variants-Single-Sample",children:"Single-sample workspace"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://app.terra.bio/#workspaces/broad-firecloud-dsde-methods/GATK-Structural-Variants-Joint-Calling",children:"Joint calling workspace"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These workspaces are actively maintained by the development team and will be updated with critical fixes and major releases."}),"\n",(0,r.jsx)(n.h3,{id:"cromwell-advanced",children:"Cromwell (advanced)"}),"\n",(0,r.jsxs)(n.p,{children:["Advanced users and developers who wish to run GATK-SV on a dedicated Cromwell server using GCP as a backend should refer\nto the ",(0,r.jsx)(n.a,{href:"/docs/category/advanced-guides",children:"Advanced Guides"})," section."]}),"\n",(0,r.jsx)(n.h3,{id:"alternative-backends-not-supported",children:"Alternative backends (not supported)"}),"\n",(0,r.jsx)(n.p,{children:"Use of other backends (e.g. AWS or on-prem HPC clusters) is not currently supported. However, contributions from the\ncommunity to improve portability between backends will be considered on a case-by-case-basis. We ask contributors to\nplease adhere to the following guidelines when submitting issues and pull requests:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Code changes must be functionally equivalent on GCP backends, i.e. not result in changed output"}),"\n",(0,r.jsx)(n.li,{children:"Increases to cost and runtime on GCP backends should be minimal"}),"\n",(0,r.jsx)(n.li,{children:"Avoid adding new inputs and tasks to workflows. Simpler changes\nare more likely to be approved, e.g. small in-line changes to scripts or WDL task command sections"}),"\n",(0,r.jsx)(n.li,{children:"Avoid introducing new code paths, e.g. conditional statements"}),"\n",(0,r.jsx)(n.li,{children:"Additional backend-specific scripts, workflows, tests, and Dockerfiles will not be approved"}),"\n",(0,r.jsx)(n.li,{children:"Changes to Dockerfiles may require extensive testing before approval"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"We still encourage members of the community to adapt GATK-SV for non-GCP backends\nand share code on forked repositories. Here are a some considerations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Refer to Cromwell's ",(0,r.jsx)(n.a,{href:"https://cromwell.readthedocs.io/en/stable/backends/Backends/",children:"documentation"}),"\nfor configuration instructions."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The handling and ordering of ",(0,r.jsx)(n.code,{children:"glob"})," commands may differ between platforms."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Shell commands that are potentially destructive to input files\n(e.g. ",(0,r.jsx)(n.code,{children:"rm"}),", ",(0,r.jsx)(n.code,{children:"mv"}),", ",(0,r.jsx)(n.code,{children:"tabix"}),") can cause unexpected behavior on shared filesystems.\nEnabling ",(0,r.jsx)(n.a,{href:"https://cromwell.readthedocs.io/en/stable/Configuring/#local-filesystem-options",children:"copy localization"}),"\nmay help to more closely replicate the behavior on GCP."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["For clusters that do not support Docker, Singularity is an alternative.\nSee ",(0,r.jsx)(n.a,{href:"https://cromwell.readthedocs.io/en/stable/tutorials/Containers/#singularity",children:"Cromwell documentation on Singularity"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The GATK-SV pipeline takes advantage of the massive parallelization possible in the cloud.\nLocal backends may not have the resources to execute all of the workflows.\nWorkflows that use fewer resources or that are less parallelized may be more successful.\nFor instance, some users have been able to run ",(0,r.jsx)(n.a,{href:"../modules/gse",children:"GatherSampleEvidence"})," on a SLURM cluster."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var t=s(6540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);