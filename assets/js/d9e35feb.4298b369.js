"use strict";(globalThis.webpackChunkGATK_SV=globalThis.webpackChunkGATK_SV||[]).push([[6762],{161:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"modules/merge_batch_sites","title":"MergeBatchSites","description":"Merge Batch Sites","source":"@site/docs/modules/merge_batch_sites.md","sourceDirName":"modules","slug":"/modules/msites","permalink":"/gatk-sv/docs/modules/msites","draft":false,"unlisted":false,"editUrl":"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/modules/merge_batch_sites.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"MergeBatchSites","description":"Merge Batch Sites","sidebar_position":8,"slug":"msites"},"sidebar":"tutorialSidebar","previous":{"title":"FilterBatch","permalink":"/gatk-sv/docs/modules/fb"},"next":{"title":"GenotypeBatch","permalink":"/gatk-sv/docs/modules/gb"}}');var n=t(4848),r=t(8453);const o={title:"MergeBatchSites",description:"Merge Batch Sites",sidebar_position:8,slug:"msites"},c=void 0,l={},d=[{value:"Inputs",id:"inputs",level:3},{value:"<code>cohort</code>",id:"cohort",level:4},{value:"<code>depth_vcfs</code>",id:"depth_vcfs",level:4},{value:"<code>pesr_vcfs</code>",id:"pesr_vcfs",level:4},{value:"Outputs",id:"outputs",level:3},{value:"<code>cohort_pesr_vcf</code>",id:"cohort_pesr_vcf",level:4},{value:"<code>cohort_depth_vcf</code>",id:"cohort_depth_vcf",level:4}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h3:"h3",h4:"h4",li:"li",mermaid:"mermaid",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/broadinstitute/gatk-sv/blob/main/wdl/MergeBatchSites.wdl",children:"WDL source code"})}),"\n",(0,n.jsx)(s.p,{children:"Merges variants across batches. Variants are merged only if the following attributes match exactly:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Contig"}),"\n",(0,n.jsx)(s.li,{children:"Start position"}),"\n",(0,n.jsxs)(s.li,{children:["End position (",(0,n.jsx)(s.code,{children:"END"})," field)"]}),"\n",(0,n.jsxs)(s.li,{children:["SV type (",(0,n.jsx)(s.code,{children:"SVTYPE"})," field)"]}),"\n",(0,n.jsxs)(s.li,{children:["SV length (",(0,n.jsx)(s.code,{children:"SVLEN"})," field, if available)"]}),"\n",(0,n.jsxs)(s.li,{children:["Strandedness (",(0,n.jsx)(s.code,{children:"STRANDS"})," field, if available)"]}),"\n",(0,n.jsxs)(s.li,{children:["Second contig (",(0,n.jsx)(s.code,{children:"CHR2"})," field, if available)"]}),"\n",(0,n.jsxs)(s.li,{children:["Second end (",(0,n.jsx)(s.code,{children:"END2"})," field, if available)"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:'This is a "cohort-level" workflow, meaning that is aggregates data across all batches. This is in contrast to all previous\nmodules, which are sample- or batch-level. Note that this workflow should still be run on cohorts consisting of\na single batch.'}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsxs)(s.p,{children:['Terra users must configure a "sample_set_set" in their data table before running this module. See the ',(0,n.jsx)(s.a,{href:"/docs/execution/joint#09-mergebatchsites",children:"Execution\nsection on MergeBatchSites"})," for futher instructions."]})}),"\n",(0,n.jsx)(s.p,{children:"The following diagram illustrates the recommended invocation order:"}),"\n",(0,n.jsx)(s.mermaid,{value:"\nstateDiagram\n  direction LR\n  \n  classDef inModules stroke-width:0px,fill:#caf0f8,color:#00509d\n  classDef thisModule font-weight:bold,stroke-width:0px,fill:#ff9900,color:white\n  classDef outModules stroke-width:0px,fill:#caf0f8,color:#00509d\n\n  fb: FilterBatch\n  mbs: MergeBatchSites\n  gb: GenotypeBatch\n  fb --\x3e mbs\n  mbs --\x3e gb\n  \n  class mbs thisModule\n  class fb inModules\n  class gb outModules"}),"\n",(0,n.jsx)(s.h3,{id:"inputs",children:"Inputs"}),"\n",(0,n.jsx)(s.h4,{id:"cohort",children:(0,n.jsx)(s.code,{children:"cohort"})}),"\n",(0,n.jsxs)(s.p,{children:["An identifier for the cohort. The guidelines outlined in the ",(0,n.jsx)(s.a,{href:"/docs/gs/inputs#sampleids",children:"sample ID requirements"}),"\nsection apply here."]}),"\n",(0,n.jsx)(s.h4,{id:"depth_vcfs",children:(0,n.jsx)(s.code,{children:"depth_vcfs"})}),"\n",(0,n.jsxs)(s.p,{children:["Array of filtered depth VCFs across batches generated in ",(0,n.jsx)(s.a,{href:"./fb#filtered_depth_vcf",children:"FilterBatch"}),"."]}),"\n",(0,n.jsx)(s.h4,{id:"pesr_vcfs",children:(0,n.jsx)(s.code,{children:"pesr_vcfs"})}),"\n",(0,n.jsxs)(s.p,{children:["Array of filtered PE/SR VCFs across batches generated in ",(0,n.jsx)(s.a,{href:"./fb#filtered_pesr_vcf",children:"FilterBatch"}),"."]}),"\n",(0,n.jsx)(s.h3,{id:"outputs",children:"Outputs"}),"\n",(0,n.jsx)(s.h4,{id:"cohort_pesr_vcf",children:(0,n.jsx)(s.code,{children:"cohort_pesr_vcf"})}),"\n",(0,n.jsx)(s.p,{children:"Merged PE/SR caller VCF."}),"\n",(0,n.jsx)(s.h4,{id:"cohort_depth_vcf",children:(0,n.jsx)(s.code,{children:"cohort_depth_vcf"})}),"\n",(0,n.jsx)(s.p,{children:"Merged depth caller VCF."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>c});var i=t(6540);const n={},r=i.createContext(n);function o(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);