"use strict";(globalThis.webpackChunkGATK_SV=globalThis.webpackChunkGATK_SV||[]).push([[7344],{2062(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"advanced/quotas","title":"Quotas","description":"Guidance on quota limits and increases in GCP","source":"@site/docs/advanced/quotas.md","sourceDirName":"advanced","slug":"/advanced/quotas","permalink":"/gatk-sv/docs/advanced/quotas","draft":false,"unlisted":false,"editUrl":"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/advanced/quotas.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Quotas","description":"Guidance on quota limits and increases in GCP","sidebar_position":5,"slug":"quotas"},"sidebar":"tutorialSidebar","previous":{"title":"Building reference panels","permalink":"/gatk-sv/docs/advanced/build_ref_panel"},"next":{"title":"Acknowledgements","permalink":"/gatk-sv/docs/acknowledgements"}}');var i=s(4848),r=s(8453);const a={title:"Quotas",description:"Guidance on quota limits and increases in GCP",sidebar_position:5,slug:"quotas"},o=void 0,l={},d=[{value:"Monitoring quotas and requesting increases",id:"monitoring-quotas-and-requesting-increases",level:3},{value:"Relevant quotas for GATK-SV",id:"relevant-quotas-for-gatk-sv",level:3},{value:"Regional managed instance groups",id:"regional-managed-instance-groups",level:4},{value:"IP addresses",id:"ip-addresses",level:4}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"When running GATK-SV in Google Cloud, users may need to be aware of quotas.\nQuotas restrict resource usage in each Google Cloud project. Reaching quota\nlimits can slow down workflow execution or result in workflow failures.\nGenerally, default quotas are appropriate for processing up to a few thousand\nsamples with GATK-SV, but quota increases may be required for larger cohorts."}),"\n",(0,i.jsx)(n.h3,{id:"monitoring-quotas-and-requesting-increases",children:"Monitoring quotas and requesting increases"}),"\n",(0,i.jsxs)(n.p,{children:["For information on how to monitor quota usage and request quota increases, refer\nto ",(0,i.jsx)(n.a,{href:"https://support.terra.bio/hc/en-us/articles/360029071251-How-to-troubleshoot-and-fix-stalled-workflows",children:"this article"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"relevant-quotas-for-gatk-sv",children:"Relevant quotas for GATK-SV"}),"\n",(0,i.jsx)(n.p,{children:"The following quotas may need to be increased in order to efficiently process\nlarge cohorts with GATK-SV:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Regional managed instance groups"}),"\n",(0,i.jsx)(n.li,{children:"In-use regional external IPv4 addresses"}),"\n",(0,i.jsx)(n.li,{children:"CPUs"}),"\n",(0,i.jsx)(n.li,{children:"Persistent Disk Standard (GB)"}),"\n",(0,i.jsx)(n.li,{children:"VM Instances"}),"\n",(0,i.jsx)(n.li,{children:"Preemptible CPUs"}),"\n",(0,i.jsx)(n.li,{children:"Queries per minute per region"}),"\n",(0,i.jsx)(n.li,{children:"Operation read requests per minute per region"}),"\n",(0,i.jsx)(n.li,{children:"Google Egress Bandwidth per second per region"}),"\n",(0,i.jsx)(n.li,{children:"Persistent Disk SSD (GB)"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"regional-managed-instance-groups",children:"Regional managed instance groups"}),"\n",(0,i.jsxs)(n.p,{children:["The largest bottleneck initially is likely to be regional managed instance groups (RMIGs).\nThe default quota for RMIGs in ",(0,i.jsx)(n.code,{children:"us-central1"})," is 1,250. Cromwell operates one VM per RMIG,\nso this is equivalent to maximum of 1,250 concurrently-running VMs."]}),"\n",(0,i.jsx)(n.h4,{id:"ip-addresses",children:"IP addresses"}),"\n",(0,i.jsxs)(n.p,{children:["Large quota increases for external IP addresses (in-use regional external IPv4 addresses)\nare difficult to obtain. Therefore, GATK-SV workflows requiring the highest degree of\nparallelization (such as ",(0,i.jsx)(n.code,{children:"GatherSampleEvidence"}),", when applied to a large cohort) may\nuse internal IP addresses instead. A task will use an internal IP address if the task's\n",(0,i.jsx)(n.code,{children:"runtime"})," block in the WDL contains ",(0,i.jsx)(n.code,{children:"noAddress: true"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Tasks using internal IP addresses do not exhaust the external IP address quota. However,\nthey are limited by the size of the VPC network. By default, this is 4,096 IPs.\nThis limit is not listed on the quotas page in the cloud console; it is on the VPC networks\npage, but Terra users do not have access to this page. Terra support can increase the size\nof the VPC network upon request. When the limit is reached for internal IP addresses,\nerror messages will mention ",(0,i.jsx)(n.code,{children:"IP space of <project's subnetwork> is exhausted. Insufficient free IP addresses"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);