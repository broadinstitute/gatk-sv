"use strict";(self.webpackChunkGATK_SV=self.webpackChunkGATK_SV||[]).push([[640],{4032:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"runtime_attr","title":"Runtime attributes","description":"Runtime attributes","source":"@site/docs/runtime_attr.md","sourceDirName":".","slug":"/runtime_attr","permalink":"/gatk-sv/docs/runtime_attr","draft":false,"unlisted":false,"editUrl":"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/runtime_attr.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Runtime attributes","description":"Runtime attributes","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"VisualizeCnvs","permalink":"/gatk-sv/docs/modules/viz"},"next":{"title":"Resource files","permalink":"/gatk-sv/docs/resources"}}');var s=r(4848),i=r(8453);const o={title:"Runtime attributes",description:"Runtime attributes",sidebar_position:6},a=void 0,c={},u=[{value:"Setting runtime attributes",id:"setting-runtime-attributes",level:3},{value:"Further reading",id:"further-reading",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"GATK-SV is implemented as a set of WDLs designed to run on Google Cloud Platform. Computations are broken up into\na set of tasks that are carried out in a particular order on cloud virtual machines (VMs), each of which\npossesses a limited set of resources. These include the following primary components:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"CPU cores"}),"\n",(0,s.jsx)(t.li,{children:"Random access memory (RAM)"}),"\n",(0,s.jsx)(t.li,{children:"Disk storage"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"GATK-SV attempts to request the appropriate amount of resources for each task and in some cases employs mathematical\nmodels to predict optimal requirements that minimize cost. However, if the actual computations performed require more\nthan the requested resources on the VM, the task may fail."}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Most tasks in GATK-SV are tuned for cohorts with ~150 samples. Most tasks should scale automatically, but running larger\ncohorts may lead to slowdowns or errors due to insufficient resource allocation."})}),"\n",(0,s.jsxs)(t.p,{children:["In addition to VM resources, Terra and Cromwell both support automatic retries of tasks in case of ephemeral errors,\nas well as requesting ",(0,s.jsx)(t.a,{href:"https://cloud.google.com/compute/docs/instances/preemptible",children:"preemptible VMs"})," at a significant discount."]}),"\n",(0,s.jsx)(t.h3,{id:"setting-runtime-attributes",children:"Setting runtime attributes"}),"\n",(0,s.jsxs)(t.p,{children:["GATK-SV exposes optional parameters for manually tuning VM resource allocation, automatic retries, and the use of preemptible\ninstances. These parameters are all a custom struct called ",(0,s.jsx)(t.code,{children:"RuntimeAttr"}),", which is defined in\n",(0,s.jsx)(t.a,{href:"https://github.com/broadinstitute/gatk-sv/blob/main/wdl/Structs.wdl",children:"Structs.wdl"})," as:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"struct RuntimeAttr {\n    Float? mem_gb\n    Int? cpu_cores\n    Int? disk_gb\n    Int? boot_disk_gb\n    Int? preemptible_tries\n    Int? max_retries\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Users encountering errors due to insufficient VM resources or wishing to adjust automatic and preemptible retries may\nmodify the corresponding parameters. Users should inspect the WDL source to determine whether a given ",(0,s.jsx)(t.code,{children:"RuntimeAttr"}),"\nparameter corresponds to a specific task."]}),"\n",(0,s.jsx)(t.h3,{id:"further-reading",children:"Further reading"}),"\n",(0,s.jsxs)(t.p,{children:["For more information on identifying errors and setting runtime parameters, please refer to the\n",(0,s.jsx)(t.a,{href:"/docs/troubleshooting/faq",children:"Troubleshooting FAQ"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var n=r(6540);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);